import{aC as n,aD as o,aF as d,aU as c,c8 as r,k$ as y,fm as w,e_ as f,lt as p}from"./index-9slH3TG2.js";import{l as $}from"./InteractiveToolBase-dO1KySru.js";let l=class extends ${constructor(t){super(t)}initialize(){this.addHandles(c(()=>this.analysisViewData.visible,t=>this.visible=t,r))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};n([o({constructOnly:!0})],l.prototype,"analysis",void 0),n([o()],l.prototype,"analysisViewData",void 0),l=n([d("esri.views.interactive.AnalysisToolBase")],l);function V(a,t){a.interactive=!0;const{tool:i,view:s}=a;s.activeTool=i;let e=y(t,()=>{s.activeTool===i&&(s.activeTool=null)});return w(async u=>{await f(()=>i==null||!i.active,u),e=p(e)},t)}function x(a,t){return c(()=>a.interactive,()=>h(a,t),r)}function h(a,t){a.interactive?m(a,t):v(a)}function m(a,t){v(a);const{view:i,analysis:s}=a,e=new t({view:i,analysis:s,analysisViewData:a});return a.tool=e,i.tools.add(e),e}function v(a){const{view:t,tool:i}=a;i!=null&&(t.tools.remove(i),a.tool=null)}export{l as a,x as b,V as l,v};
