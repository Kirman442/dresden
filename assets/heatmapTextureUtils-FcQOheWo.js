import{bx as l,bB as x,bC as n,bD as a,bE as c}from"./index-Ag4O5CUz.js";class E{constructor(r,t,e,o){this.dataType=r,this.samplingMode=t,this.pixelFormat=e,this.internalFormat=o}}function T(i,r){const{textureFloat:t,colorBufferFloat:e}=i.capabilities,o=t==null?void 0:t.textureFloat,R=t==null?void 0:t.textureFloatLinear,b=t==null?void 0:t.textureHalfFloat,F=t==null?void 0:t.textureHalfFloatLinear,h=e==null?void 0:e.textureFloat,f=e==null?void 0:e.textureHalfFloat,d=e==null?void 0:e.floatBlend,s=i.driverTest.floatBufferBlend.result;if(!o&&!b)throw new l("heatmap:missing-texture-float","HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float or OES_texture_half_float.");if(!h&&!f)throw new l("heatmap:missing-color-buffer-float","HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");if(!(d&&s||f))throw new l("heatmap:missing-float-blend","HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float."+(s?"":" This device claims support for EXT_float_blend, but does not actually support it."));const L=o&&h&&d&&s,w=b&&f,u=R,_=F,m=!!(e!=null&&e.R32F),p=!!(e!=null&&e.R16F);if(L&&(u||!_))return u||r.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."),new E(x.FLOAT,u?n.LINEAR:n.NEAREST,m?a.RED:a.RGBA,m?c.R32F:a.RGBA);if(w)return _||r.warnOnce("Missing WebGL extension OES_texture_half_float_linear. Heatmap quality may be reduced."),new E(x.HALF_FLOAT,_?n.LINEAR:n.NEAREST,p?a.RED:a.RGBA,p?c.R16F:a.RGBA);throw new l("heatmap:missing-hardware-support","HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.")}export{T as n};
